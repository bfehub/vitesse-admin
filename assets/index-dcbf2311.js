var d=(u,n,o)=>new Promise((t,l)=>{var a=e=>{try{r(o.next(e))}catch(c){l(c)}},s=e=>{try{r(o.throw(e))}catch(c){l(c)}},r=e=>e.done?t(e.value):Promise.resolve(e.value).then(a,s);r((o=o.apply(u,n)).next())});import{v as p}from"./runtime-dom.esm-bundler-ba6d4d41.js";import{j as f}from"./user-929b2785.js";import{d as v,x as w,A as x,o as i,a as y,O as m,R as _,c as g,P as k,Q as C,r as V,T as h}from"./runtime-core.esm-bundler-370feeb5.js";const B={class:"login"},D=v({__name:"index",setup(u){const n=w(!1),o=f(),t=x({account:"admin",password:"123456"}),l=()=>d(this,null,function*(){if(!t.account||!t.password)return!1;try{n.value=!0;const a=yield o.login({password:t.password,username:t.account});a&&alert(`登录成功：${a.username}`)}catch(a){alert(a.message)}finally{n.value=!1}});return(a,s)=>{const r=V("va-button");return i(),y("div",B,[m(_("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>t.account=e),type:"text",placeholder:"账号"},null,512),[[p,t.account]]),m(_("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>t.password=e),type:"password",placeholder:"密码"},null,512),[[p,t.password]]),n.value?C("",!0):(i(),g(r,{key:0,type:"success",onClick:l},{default:k(()=>[h("登录")]),_:1}))])}}});export{D as default};
