var L=Object.defineProperty;var v=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var x=(n,e,t)=>e in n?L(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,y=(n,e)=>{for(var t in e||(e={}))M.call(e,t)&&x(n,t,e[t]);if(v)for(var t of v(e))P.call(e,t)&&x(n,t,e[t]);return n};var f=(n,e,t)=>new Promise((a,_)=>{var c=l=>{try{m(t.next(l))}catch(p){_(p)}},o=l=>{try{m(t.throw(l))}catch(p){_(p)}},m=l=>l.done?a(l.value):Promise.resolve(l.value).then(c,o);m((t=t.apply(n,e)).next())});import{_ as i}from"./_plugin-vue_export-helper-c27b6911.js";import{o as s,a as r,d as h,x as S,U as C,R as u,V as b,W as g,X as d,P as $,T as N,Y as O,r as k,c as I}from"./runtime-core.esm-bundler-370feeb5.js";import{R}from"./user-929b2785.js";import{u as T}from"./usePermission-4e083f48.js";const V={},F={class:"header"};function A(n,e){return s(),r("div",F,"header")}const B=i(V,[["render",A],["__scopeId","data-v-f272e042"]]),E=[{name:"总览",path:"/dashboard",icon:"arrow-left",orderNo:10,roles:[R.ADMIN],children:[{name:"分析页",path:"/dashboard/analysis"},{name:"工作台",path:"/dashboard/workbench"}]}],z=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"})),D=[{name:"我的",path:"/mine",icon:"arrow-left",orderNo:20,children:[{name:"资料",path:"/mine/data"},{name:"关注",path:"/mine/follow"}]}],U=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"})),G=[{name:"权限",path:"/permission",icon:"arrow-left",orderNo:30,children:[{name:"测试",path:"/permission/test"}]}],H=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"})),W={id:"id",children:"children",pid:"pid"},X=n=>Object.assign({},W,n);function Y(n,e,t={}){t=X(t);const a=t.children;function _(c){return c.map(o=>y({},o)).filter(o=>(o[a]=o[a]&&_(o[a]),e(o)))}return _(n)}const j=Object.assign({"./modules/admin.ts":z,"./modules/mine.ts":U,"./modules/permission.ts":H}),w=[];Object.keys(j).forEach(n=>{const e=j[n].default||{},t=Array.isArray(e)?[...e]:[e];w.push(...t)});const q=()=>f(void 0,null,function*(){const{hasRole:n}=T();let e=[];return e=w.sort((t,a)=>(t.orderNo||0)-(a.orderNo||0)),e=Y(e,t=>n(t.roles)),Promise.resolve(e)}),J={class:"menu"},K=h({__name:"index",setup(n){const e=S([]);return C(()=>f(this,null,function*(){e.value=yield q()})),(t,a)=>{const _=k("router-link");return s(),r("div",J,[u("ul",null,[(s(!0),r(b,null,g(e.value,c=>(s(),r("li",{key:c.name,class:"bg-blue-100"},[d(_,{to:c.path},{default:$(()=>[N(O(c.name),1)]),_:2},1032,["to"]),u("ul",null,[(s(!0),r(b,null,g(c.children,o=>(s(),r("li",{key:o.name,class:"bg-red-200"},[d(_,{to:o.path},{default:$(()=>[N(O(o.name),1)]),_:2},1032,["to"])]))),128))])]))),128))])])}}});const Q=i(K,[["__scopeId","data-v-318ddba4"]]),Z={};function ee(n,e){const t=k("RouterView");return s(),I(t)}const te=i(Z,[["render",ee]]),ne={class:"content"},oe=h({__name:"index",setup(n){return(e,t)=>(s(),r("div",ne,[d(te)]))}});const se=i(oe,[["__scopeId","data-v-7af0eebf"]]);const re={},ae={class:"footer"};function _e(n,e){return s(),r("div",ae,"footer")}const ce=i(re,[["render",_e],["__scopeId","data-v-8dce3592"]]),le={class:"h-full flex flex-col"},de={class:"flex flex-1"},ie={class:"flex flex-col flex-1"},ve=h({__name:"index",setup(n){return(e,t)=>(s(),r("div",le,[d(B),u("div",de,[d(Q),u("div",ie,[d(se),d(ce)])])]))}});export{ve as default};
